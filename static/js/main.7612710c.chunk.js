(this["webpackJsonpfood-world-cup"]=this["webpackJsonpfood-world-cup"]||[]).push([[0],{11:function(e,n,t){},12:function(e,n,t){"use strict";t.r(n);var r=t(1),s=t.n(r),i=t(4),o=t.n(i),c=(t(9),t(2)),a=t(0),d=function(){return Object(a.jsx)("div",{className:"loader"})},l=function(e){var n=e.onZipCodeChange,t=e.onZipCodeSubmit,r=e.handleKeyPress,s=e.isLoading;return Object(a.jsxs)("header",{children:[Object(a.jsx)("a",{href:"https://aalieu.github.io/food-showdown/",children:"Food Showdown \ud83c\udf7d\ufe0f"}),Object(a.jsx)("input",{type:"text",placeholder:"Enter Zip Code",onChange:n,onKeyDown:r}),Object(a.jsx)("button",{onClick:t,children:"Submit"}),s?Object(a.jsx)(d,{}):null]})},u=function(e){var n=e.id,t=e.name,r=e.image,s=e.rating,i=e.url,o=e.determineWinner,c=e.businessFaceOff,d=e.round;return Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("img",{className:"cardImage",src:r,alt:"restaurant"}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"cardTitle",children:t}),Object(a.jsxs)("p",{className:"cardRating",children:["Rating: ",s,"/5"]}),Object(a.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:i,className:"cardLink",children:i.split("?")[0]}),Object(a.jsx)("div",{children:"WINNER"!==d?Object(a.jsx)("button",{className:"likeBtn",onClick:function(){return o(n,c,d)},children:"\u2764\ufe0f"}):null})]})]})},h=function(e){var n=e.businesses,t=e.determineWinner,r=e.round,s=n.slice(0,2);return Object(a.jsxs)("div",{className:"cardList",children:["WINNER"===r?Object(a.jsx)("h1",{children:"WINNER!!!"}):"FINALS"===r?Object(a.jsxs)("h1",{children:[r,": SELECT YOUR WINNER"]}):Object(a.jsxs)("h1",{children:[r,": Select ",n.length/2," more winner(s)!"]}),n[1]?s.map((function(e,i){return Object(a.jsx)(u,{id:n[i].id,name:n[i].name,image:n[i].image_url,url:n[i].url,rating:n[i].rating,determineWinner:t,businessFaceOff:s,round:r},i)})):Object(a.jsx)(u,{id:n[0].id,name:n[0].name,image:n[0].image_url,url:n[0].url,rating:n[0].rating,determineWinner:t,businessFaceOff:s,round:r},n[0].id)]})},j=function(e){var n=e.businesses,t=e.determineWinner,r=e.round;return Object(a.jsx)("div",{children:Object(a.jsx)(h,{businesses:n,determineWinner:t,round:r})})},b=function(){return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"intro",children:[Object(a.jsx)("h2",{children:"What is Food Showdown about?"}),Object(a.jsx)("p",{children:'Everyone has had those moments where they think to themselves \u2013 "Hmm, what should I eat today?"'}),Object(a.jsxs)("p",{children:["Then they go on Yelp and search for food within their area. Everything looks good... But at the same time ",Object(a.jsx)("em",{children:"nothing"})," looks good. Food Showdown was created to help those who are indecisive take control of their lives and pick what they're really feeling like eating."]}),Object(a.jsx)("p",{children:Object(a.jsx)("strong",{children:"May the best food win."})}),Object(a.jsx)("h2",{children:"Tell Me More"}),Object(a.jsx)("p",{children:"Food Showdown utilizes the Yelp Fusion API to randomly select 16 businesses located near the zip code provided. From there, two businesses will be pit against each other until only one more business remains."}),Object(a.jsx)("p",{children:"Site is still a work in progress and thus some bugs do exist:"}),Object(a.jsx)("li",{children:"Initial load of businesses has a delay since the CORS proxy is served on Heroku and is unloaded from server memory to save resources. Subsequent runs should load much quicker."}),Object(a.jsx)("li",{children:"Works in mobile, but design is not fully responsive"}),Object(a.jsx)("p",{children:"*Only shows businesses currently open at time of search"})]})})},m=(t(11),[]),f=function(){var e=Object(r.useState)(""),n=Object(c.a)(e,2),t=n[0],s=n[1],i=Object(r.useState)(!1),o=Object(c.a)(i,2),d=o[0],u=o[1],h=Object(r.useState)([]),f=Object(c.a)(h,2),O=f[0],g=f[1],p=Object(r.useState)([]),x=Object(c.a)(p,2),S=x[0],N=x[1],E=Object(r.useState)("SWEET 16"),v=Object(c.a)(E,2),I=v[0],w=v[1],F=Object(r.useRef)();Object(r.useEffect)((function(){F.current?O.length<1&&"SWEET 16"===I?(m=[],g(S),w("QUARTERFINALS")):O.length<1&&"QUARTERFINALS"===I?(m=[],g(S),w("SEMIFINALS")):O.length<1&&"SEMIFINALS"===I?(m=[],g(S),w("FINALS")):O.length<2&&"FINALS"===I&&(m=[],g(S),w("WINNER")):F.current=!0}),[O,I,S]);var y=function(){u((function(e){return!e}))},k=function(){y(),w("SWEET 16");var e="Bearer ".concat("3mXJisot7PHD5BZmI08JKBC1EpdF64krK_Ar-N9LsJg6Tl5klAumo2SMiHwVArjdF9z4j6tu5x35mQZmoStY5I8nWIeciHUwEaNOfDlb0RzCfAwVWdpLDYCG2-hLYHYx"),n="".concat("https://dry-anchorage-26620.herokuapp.com/"),r=Math.floor(26*Math.random());!function(e){return/^\d{5}[-\s]?(?:\d{4})?$/gm.test(e)}(t)?alert("Not a valid zip code."):fetch("".concat(n,"https://api.yelp.com/v3/businesses/search?limit=48&offset=").concat(r,"&location=").concat(t,"&open_now=true&term=food"),{method:"get",headers:{Authorization:e}}).then((function(e){return e.json()})).then((function(e){return A(e.businesses,3)})).then((function(e){return g(e)})).then((function(){return y()}))},A=function(e,n){for(var t=e.length/n,r=e.length-1;r>0;r--){var s=Math.floor(Math.random()*(r+1)),i=[e[s],e[r]];e[r]=i[0],e[s]=i[1]}return e.splice(0,t)},W=function(e){return O.filter((function(n){return!e.includes(n.id)}))},L=function(e,n,t){var r=O.filter((function(n){return n.id===e})),s=n.map((function(e){return e.id}));switch(m.push(r[0]),t){case"SWEET 16":case"QUARTERFINALS":case"SEMIFINALS":O.length>3?g(W(s)):O.length<3&&(g(W(s)),N(A(m,1)));break;case"FINALS":g(W(s)),N(m);break;case"WINNER":g(S);break;default:return null}};return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(l,{onZipCodeChange:function(e){return s(e.target.value)},onZipCodeSubmit:k,handleKeyPress:function(e){13===e.keyCode&&k()},isLoading:d}),O[0]||"SWEET 16"!==I?O[1]&&"SWEET 16"===I||O[1]&&"QUARTERFINALS"===I||O[1]&&"SEMIFINALS"===I||O[1]&&"FINALS"===I||O[0]&&"WINNER"===I?Object(a.jsx)(j,{businesses:O,determineWinner:L,round:I}):void 0:Object(a.jsx)(b,{})]})},O=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,13)).then((function(n){var t=n.getCLS,r=n.getFID,s=n.getFCP,i=n.getLCP,o=n.getTTFB;t(e),r(e),s(e),i(e),o(e)}))};o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(f,{})}),document.getElementById("root")),O()},9:function(e,n,t){}},[[12,1,2]]]);
//# sourceMappingURL=main.7612710c.chunk.js.map